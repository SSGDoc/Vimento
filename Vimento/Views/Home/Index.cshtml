@{

    Layout = null;


}

@model IEnumerable<Vimento.Model.Company>




    <!DOCTYPE html>
    <html lang="en">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>Dashboard</title>

        <!-- Custom fonts for this template-->
        <link href="~/Content/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

        <!-- Custom styles for this template-->
        <link href="~/Content/css/sb-admin-2.min.css" rel="stylesheet">
        <link href="~/Content/css/indexstyle.css" rel="stylesheet">

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
              integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
              crossorigin="" />
        <!--Leaflets API-->
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
                integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
                crossorigin=""></script>

        <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css">
        <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css">
        <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    </head>

    <body id="page-top">

        <!-- Page Wrapper -->
        <div id="wrapper">
            
            <!-- Sidebar -->
            <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

                <!-- Sidebar - Brand -->
                <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">

                    <div class="sidebar-brand-text mx-3">
                        <img class="mt-3" style="width: 100%;" src="~/Content/icons/vimento2.png" alt="">
                        <sup>2.0</sup>
                    </div>
                </a>

                <!-- Divider -->
                <hr class="sidebar-divider my-0">

                <!-- Nav Item - Dashboard -->
                <li class="nav-item active">
                    <a class="nav-link" href="index.html">
                        <i class="fas fa-fw fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>

                <!-- Divider -->
                <hr class="sidebar-divider">

                <!-- Heading -->
                <div class="sidebar-heading">
                    Interface
                </div>

                <!-- Nav Item - Pages Collapse Menu -->
                <li class="nav-item">
                    <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                        <i class="fas fa-fw fa-cog"></i>
                        <span>Filtre</span>
                    </a>
                    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                        <div class="bg-white py-2 collapse-inner rounded">
                            <h6 class="collapse-header">Custom Components:</h6>
                            <a class="collapse-item" href="buttons.html">Buttons</a>
                            <a class="collapse-item" href="cards.html">Cards</a>
                        </div>
                    </div>
                </li>

                <!-- Nav Item - Utilities Collapse Menu -->
                <li class="nav-item">
                    <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities" aria-expanded="true" aria-controls="collapseUtilities">
                        <i class="fas fa-fw fa-wrench"></i>
                        <span>Adv. Filtre</span>
                    </a>
                    <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities" data-parent="#accordionSidebar">
                        <div class="bg-white py-2 collapse-inner rounded">
                            <h6 class="collapse-header">Custom Utilities:</h6>
                            <a class="collapse-item" href="utilities-color.html">Colors</a>
                            <a class="collapse-item" href="utilities-border.html">Borders</a>
                            <a class="collapse-item" href="utilities-animation.html">Animations</a>
                            <a class="collapse-item" href="utilities-other.html">Other</a>
                        </div>
                    </div>
                </li>

                <!-- Divider -->
                <hr class="sidebar-divider">

                <!-- Heading -->
                <div class="sidebar-heading">
                    Brugerroller
                </div>

                <!-- Nav Item - Pages Collapse Menu -->
                @*<li class="nav-item">
            <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePages" aria-expanded="true" aria-controls="collapsePages">
                <i class="fas fa-fw fa-folder"></i>
                <span>Pages</span>
            </a>
            <div id="collapsePages" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
                <div class="bg-white py-2 collapse-inner rounded">
                    <h6 class="collapse-header">Login Screens:</h6>
                    <a class="collapse-item" href="login.html">Login</a>
                    <a class="collapse-item" href="register.html">Register</a>
                    <a class="collapse-item" href="forgot-password.html">Forgot Password</a>
                    <div class="collapse-divider"></div>
                    <h6 class="collapse-header">Other Pages:</h6>
                    <a class="collapse-item" href="404.html">404 Page</a>
                    <a class="collapse-item" href="blank.html">Blank Page</a>
                </div>
            </div>
        </li>*@

                <!-- Nav Item - Charts -->
                @*<li class="nav-item">
                    <a class="nav-link" href="charts.html">
                        <i class="fas fa-fw fa-chart-area"></i>
                        <span>Charts</span>
                    </a>
                </li>*@

                <li class="nav-item">
                    <a class="nav-link" href="charts.html">
                        <i class="fas fa-fw fa-user-tie"></i>
                        <span>Sælger</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="charts.html">
                        <i class="fas fa-fw fa-user-cog"></i>
                        <span>Netværksingeniør</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="charts.html">
                        <i class="fas fa-fw fa-user-astronaut"></i>
                        <span>Marketingsansvarlig</span>
                    </a>
                </li>

                <!-- Nav Item - Tables -->
                @*<li class="nav-item">
                    <a class="nav-link" href="tables.html">
                        <i class="fas fa-fw fa-table"></i>
                        <span>Tables</span>
                    </a>
                </li>*@

                <!-- Divider -->
                <hr class="sidebar-divider d-none d-md-block">

                <!-- Sidebar Toggler (Sidebar) -->
                <div class="text-center d-none d-md-inline">
                    <button class="rounded-circle border-0" id="sidebarToggle"></button>
                </div>

            </ul>
            <!-- End of Sidebar -->
            <!-- Content Wrapper -->
            <div id="content-wrapper" class="d-flex flex-column" style="margin-top: 20px">

                <!-- Main Content -->
                <div id="content">


                    <!-- End of Topbar -->
                    <!-- Begin Page Content -->
                    <div class="container-fluid">

                        <!-- Page Heading -->
                        <div class="d-sm-flex align-items-center justify-content-between mb-4">
                            <h1 class="h3 mb-0 text-gray-800">Dashboard</h1>

                        </div>

                        <!-- Content Row -->
                        <div class="row">

                            <!-- Unikker CVR Card Example -->
                            <div class="col-xl-3 col-md-6 mb-4" style=" margin: auto ">
                                <div class="card border-left-success shadow h-100 py-2">
                                    <div class="card-body">
                                        <div class="row no-gutters align-items-center">
                                            <div class="col mr-2">
                                                <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Unikke CVR</div>
                                                <div id="unikCVR" class="h5 mb-0 font-weight-bold text-gray-800">28916</div>
                                            </div>
                                            <div class="col-auto">
                                                <i class="fas fa-suitcase fa-2x text-gray-300"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Adgansadresser Card Example -->
                            <div class="col-xl-3 col-md-6 mb-4" style=" margin: auto ">
                                <div class="card border-left-primary shadow h-100 py-2">
                                    <div class="card-body">
                                        <div class="row no-gutters align-items-center">
                                            <div class="col mr-2">
                                                <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Unikke adgansadresser</div>
                                                <div class="h5 mb-0 font-weight-bold text-gray-800">6838</div>
                                            </div>
                                            <div class="col-auto">
                                                <i class="fas fa-home fa-2x text-gray-300"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Fiber (procent) Card Example -->
                            <div class="col-xl-3 col-md-6 mb-4">
                                <div class="card border-left-info shadow h-100 py-2">
                                    <div class="card-body">
                                        <div class="row no-gutters align-items-center">
                                            <div class="col mr-2">
                                                <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Adresser med adgang til fiber</div>
                                                <div class="row no-gutters align-items-center">
                                                    <div class="col-auto">
                                                        <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">86%</div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="progress progress-sm mr-2">
                                                            <div class="progress-bar bg-info" role="progressbar" style="width: 86%" aria-valuenow="86" aria-valuemin="0" aria-valuemax="100"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-auto">
                                                <i class="fas fas fa-fighter-jet fa-2x text-gray-300"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Data Card Example -->
                            <div class="col-xl-3 col-md-6 mb-4" style=" margin: auto ">
                                <div class="card border-left-warning shadow h-100 py-2">
                                    <div class="card-body">
                                        <div class="row no-gutters align-items-center">
                                            <div class="col mr-2">
                                                <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Data senest opdateret</div>
                                                <div class="h5 mb-0 font-weight-bold text-gray-800">30 - Marts - 2020</div>
                                            </div>
                                            <div class="col-auto">
                                                <i class="fas fa-database fa-2x text-gray-300"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Content Row -->

                        <div class="row">

                            <!-- Area Chart -->
                            <div class="col-lg-7 col-lg-6" style="height: 600px; margin-bottom: 1.5rem!important;">
                                <div class="card shadow mb-4" style="height: 100%">
                                    <!-- Card Header - Dropdown -->
                                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                        <h6 class="m-0 font-weight-bold text-primary">Map overview</h6>
                                        @*<div class="dropdown no-arrow">
                                                <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                                                </a>
                                                <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                                                    <div class="dropdown-header">Dropdown Header:</div>
                                                    <a class="dropdown-item" href="#">Action</a>
                                                    <a class="dropdown-item" href="#">Another action</a>
                                                    <div class="dropdown-divider"></div>
                                                    <a class="dropdown-item" href="#">Something else here</a>
                                                </div>
                                            </div>*@
                                    </div>
                                    <!-- Card Body -->
                                    <div class="card-body" style="height: 100%; padding: 0">
                                        <div class="chart-area" style="height: 100%">
                                            <div id="mapid" class="chart-area" style="height: 100%">  </div>
                                            <script>
                                                var mymap = L.map('mapid').setView([57.047218, 9.920100], 8);
                                                L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
                                                    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                                                    maxZoom: 18,
                                                    id: 'mapbox/streets-v11',
                                                    tileSize: 512,
                                                    zoomOffset: -1,

                                                    // ACCESSTOKEN FÅET FRA MAPBOX
                                                    accessToken: 'pk.eyJ1IjoibXJzYWdneSIsImEiOiJja2ZiamQ4ajYwcXh3MnhvODU4NjZrZ29xIn0.JXSCWFKMGdFElSPErRk-Zg'
                                                }).addTo(mymap);

                                                var markerArray = new Array();
                                                var selectedArray = new Array();
                                                var index = 0;
                                                var filterArray = new Array();
                                                var filterString = "downFiber";
                                                var speedFilter;

                                               

                                                var markers = L.markerClusterGroup({
                                                    spiderfyOnMaxZoom: false,
                                                    showCoverageOnHover: true,
                                                    zoomToBoundsOnClick: true,
                                                    disableClusteringAtZoom: 18,
                                                    emp: 5,
                                                    name: 'placeholder name'
                                                });
                                                                                                
                                                function onClick(e) {

                                                    cordCheck(this.getLatLng().lat, this.getLatLng().lng);
                                                    displayInfo(this)  //kalder function for fremvisning af data i informations panel
                                                    myChart.update()  //updatere charts


                                                  
                                                }

                                                function nextInfo(sum) {

                                                    index = (index + sum);
                                                    
                                                    if (index <= 0) {

                                                        index = 0;
                                                        
                                                    }
                                                    else if (index > (selectedArray.length) - 1)
                                                    {
                                                        index = ((selectedArray.length - 1));

                                                    }
                                                    
                                                       
                                                        console.log(selectedArray[index]);
                                                        displayInfo(selectedArray[index]);
                                                        document.getElementById('side').innerHTML
                                                            = ((index + 1) + " / " + selectedArray.length);
                                                    

                                                }

                                               

                                                function cordCheck(clickLat, clicklng) {
                                                    selectedArray = [];
                                                    index = 0;
                                                    for (var i = 0; i < (markerArray.length); i++) {
                                                        var marker = markerArray[i];

                                                        


                                                        if (marker.getLatLng().lng == clicklng && marker.getLatLng().lat == clickLat) {
                                                            selectedArray.push(marker);
                                                            

                                                        }
                                                    }
                                                    document.getElementById('side').innerHTML
                                                        = ((index + 1) + " / " + selectedArray.length);
                                                    
                                                }



                                                function tekFilter(selectSwitch) {
                                                    filterArray = [];
                                                    markers.clearLayers();


                                                    switch (selectSwitch) {
                                                        case 0:
                                                            var result = markerArray.filter(checkFiber);
                                                            speedFilter = 0;
                                                            document.getElementById("formControlRange").value = "0";

                                                            break;
                                                        case 1:
                                                            var result = markerArray.filter(checkKabel);
                                                            speedFilter = 1;
                                                            document.getElementById("formControlRange").value = "0";
                                                            break;
                                                        case 2:
                                                            var result = markerArray.filter(checkDsl);
                                                            speedFilter = 2;
                                                            document.getElementById("formControlRange").value = "0";
                                                            break;
                                                        case 3:
                                                            var result = markerArray.filter(checkMobil);
                                                            speedFilter = 3;
                                                            document.getElementById("formControlRange").value = "0";
                                                            break;
                                                        case 4:
                                                            var result = markerArray;
                                                            speedFilter = 4;
                                                            document.getElementById("formControlRange").value = "0";
                                                            break;
                                                    }


                                                    result.forEach(m => markers.addLayer(m));
                                                    filterArray = result;
                                                    mymap.addLayer(markers);
                                                    updateTextInput(0);
                                                    document.getElementById('unikCVR').innerHTML
                                                        = (result.length);
                                                }

                                                function checkFiber(speed) {
                                                    return speed.downFiber > 0;
                                                }
                                                function checkKabel(speed) {
                                                    
                                                    return speed.downKabel > 0;
                                                }
                                                function checkDsl(speed) {
                                                    return speed.downDsl > 0;
                                                }
                                                function checkMobil(speed) {
                                                    return speed.mobil > 0;
                                                }
                                            




                                                function displayInfo(marker) {
                                                    document.getElementById('firmanavn').innerHTML
                                                        = marker.name;
                                                    document.getElementById('branchenavn').innerHTML
                                                        = marker.business;
                                                    document.getElementById('antalansatte').innerHTML
                                                        = marker.employees;
                                                    document.getElementById('vejnavn').innerHTML
                                                        = marker.address;
                                                    // onclick function til at vise given data fra et firma

                                                    //Tilføjer data til chart.
                                                    addDataDownFiber(parseInt(marker.downFiber))
                                                    addDataUpFiber(parseInt(marker.upFiber))
                                                    addDataDownKabel(parseInt(marker.downKabel))
                                                    addDataUpKabel(parseInt(marker.upKabel))
                                                    addDataDownDsl(parseInt(marker.downDsl))
                                                    addDataUpDsl(parseInt(marker.upDsl))
                                                    addDataMobil(parseInt(marker.mobil))



                                                    //addDataAll(parseInt(downFiber, this.UpFiber, this.DownKabel, this.upKabel, this,downDsl, this.upDsl, this.mobil))

                                                    //Opdaterer chart'en efter der er indsat data.
                                                }

                                                  function addClusters(localarray, lat, long, name, business, employees, address, downFiber, upFiber, downKabel, upKabel, downDsl, upDsl, mobil) {
                                                    var companyMarker = new L.circleMarker([lat, long]).on('click', onClick);
                                                    companyMarker.name = name, companyMarker.business = business,
                                                        companyMarker.employees = employees, companyMarker.address = address,
                                                        companyMarker.downFiber = downFiber, companyMarker.upFiber = upFiber,
                                                        companyMarker.downKabel = downKabel, companyMarker.upKabel = upKabel,
                                                        companyMarker.downDsl = downDsl, companyMarker.upDsl = upDsl,
                                                        companyMarker.mobil = mobil;

                                                      markers.addLayer(companyMarker);
                                                      //companyMarker.addTo(markers);

                                                    localarray.push(companyMarker);


                                                      var i = (localarray.length - 1);
                                                      console.log(i);
                                                      
                                                    
                                                    
                                                   
                                                    //laver markes med given data
                                                }
                                            </script>



                                            @foreach (var company in Model)
                                            {
                                                //køre igennem alle firmaer i databasen og tilføjer dem som marker
                                        <script>
                                            addClusters(markerArray, @company.Address.Long, @company.Address.Lat, "@company.Name", "@company.Business", "@company.AmountOfEmployees", "@company.Address.StreetName" +
                                                " @company.Address.HouseNr", + " @company.Address.Technology.DownFiber", + "@company.Address.Technology.UpFiber", + "@company.Address.Technology.DownCable", +
                                            "@company.Address.Technology.UpCable", + "@company.Address.Technology.DownDSL", + "@company.Address.Technology.UpDSL", + "@company.Address.Technology.MobileDownRange");

                                        </script>
                                            }
                                            <script>
                                               
                                                mymap.addLayer(markers);          
                                                //tilføjer alle lavede markers til map
                                            </script>

                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-xl-2 col-lg-2 m-auto">
                                <div class="card shadow mb-4">
                                    @*Card Header - Dropdown*@
                                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">

                                        <h6 class="m-0 font-weight-bold text-primary">Adresse info</h6>
                                        @*<INPUT TYPE="NUMBER" MIN="1" MAX="10" STEP="1" VALUE="1" SIZE="6">*@
                                        <a onclick="nextInfo(-1)" href="#" > <i class="fas fa-arrow-alt-circle-left fa-2x text-primary"></i></a>
                                        <h6 id="side" class="m-0  ">1 / 9</h6>
                                        <a onclick="nextInfo(1)"  href="#" > <i class="fas fa-arrow-alt-circle-right fa-2x text-primary"></i></a>
                                        <div class="col-auto">
                                            <i class="fas fa-map-marker-alt fa-2x text-danger"></i>
                                        </div>

                                    </div>

                                    @*Card Body*@
                                <div class="card-body">
                                    <div class="text-xs font-weight-bold text-primary text-uppercase">Virksomhed</div>
                                    <h6 id="firmanavn"> ... </h6>
                                    <div class="text-xs font-weight-bold text-primary text-uppercase mt-1">Branche</div>
                                    <h6 id="branchenavn"> ... </h6> 
                                    <div class="text-xs font-weight-bold text-primary text-uppercase mt-1">Antal ansatte</div>
                                    <h6 id="antalansatte"> ... </h6>
                                    <div class="text-xs font-weight-bold text-primary text-uppercase mt-1">Adresse</div>
                                    <h6 id="vejnavn"> ... </h6>



                                </div>
                                </div>
                            </div>

                            <!-- Pie Chart -->
                            <div class="col-xl-3 col-lg-3 m-auto">
                                <div class="card shadow mb-4">
                                    <!-- Card Header - Dropdown -->
                                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                        <h6 class="m-0 font-weight-bold text-primary">Hastighed fordelt på teknologi.</h6>

                                    </div>

                                    <!-- Card Body -->
                                    <div class="card-body">
                                        
                                        <div class="mt-4 text-center small">
                                            <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js'></script>
                                            <canvas id="bar" height: 100%></canvas>
                                            <script>

                                             

                                                
                                                var ctx = document.getElementById('bar');
                                                var myChart = new Chart(ctx, {
                                                    type: 'bar',
                                                    data: {
                                                        labels: ['Fiber', 'Kabel', 'Dsl', 'Mobil'],
                                                        datasets: [{
                                                            label: 'Max Download Hastighed (Mbit)',
                                                            data: [],
                                                            backgroundColor: [
                                                                'rgba(78, 115, 223, 1)',
                                                                'rgba(78, 115, 223, 1)',
                                                                'rgba(78, 115, 223, 1)',
                                                                'rgba(78, 115, 223, 1)'

                                                            ],
                                                            borderColor: [
                                                                'rgba(189, 180, 180, 0.8)',
                                                                'rgba(189, 180, 180, 0.8)',
                                                                'rgba(189, 180, 180, 0.8)',
                                                                'rgba(189, 180, 180, 0.8)'

                                                            ],
                                                            borderWidth: 1
                                                        }, {

                                                            label: 'Max Upload Hastighed (Mbit)',
                                                            data: [],
                                                            backgroundColor: [
                                                                'rgba(28, 200, 138, 1)',
                                                                'rgba(28, 200, 138, 1)',
                                                                'rgba(28, 200, 138, 1)',
                                                                'rgba(28, 200, 138, 1)'
                                                            ],
                                                            borderColor: [
                                                                'rgba(189, 180, 180, 0.8)',
                                                                'rgba(189, 180, 180, 0.8)',
                                                                'rgba(189, 180, 180, 0.8)',
                                                                'rgba(189, 180, 180, 0.8)'
                                                            ],
                                                            borderWidth: 1
                                                        }]
                                                    },
                                                    options: {
                                                        scales: {
                                                            yAxes: [{
                                                                ticks: {
                                                                    beginAtZero: true
                                                                }
                                                            }]
                                                        }
                                                    }
                                                });

                                                //function addDataAll(downFiber, upFiber, downKabel, upKabel, downDsl, upDsl, mobil) {
                                                //    myChart.data.datasets[0].data[0] = downFiber,
                                                //    myChart.data.datasets[1].data[0] = upFiber;
                                                //    myChart.data.datasets[0].data[1] = downKabel;
                                                //    myChart.data.datasets[1].data[1] = upKabel;
                                                //    myChart.data.datasets[0].data[2] = downDsl;
                                                //    myChart.data.datasets[1].data[2] = upDsl;
                                                //    myChart.data.datasets[0].data[3] = mobil;
                                                //}


                                                function addDataDownFiber(data) {
                                                    myChart.data.datasets[0].data[0] = data;
                                                }
                                                function addDataUpFiber(data) {
                                                    myChart.data.datasets[1].data[0] = data;
                                                }
                                                function addDataDownKabel(data) {
                                                    myChart.data.datasets[0].data[1] = data;
                                                }
                                                function addDataUpKabel(data) {
                                                    myChart.data.datasets[1].data[1] = data;
                                                }
                                                function addDataDownDsl(data) {
                                                    myChart.data.datasets[0].data[2] = data;
                                                }
                                                function addDataUpDsl(data) {
                                                    myChart.data.datasets[1].data[2] = data;
                                                }
                                                function addDataMobil(data) {
                                                    myChart.data.datasets[0].data[3] = data;
                                                }

                                            </script>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                    </div>

                    <!-- Content Row -->
                    <div class="row container-fluid">

                        <!-- Content Column -->
                        <div class="col-lg-6  m-auto">

                            <!-- Project Card Example -->
                            <div class="card shadow mb-4 ">
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Filtrer på teknologi</h6>

                                </div>

                                <div class="form-check-inline">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" onclick="tekFilter(0)" name="optradio">Fiber
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" onclick="tekFilter(1)" name="optradio">Kabel
                                    </label>
                                </div>
                                <div class="form-check-inline disabled">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" onclick="tekFilter(2)" name="optradio">Dsl
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" onclick="tekFilter(3)" name="optradio">Mobil
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" onclick="tekFilter(4)" name="optradio">Alle
                                    </label>
                                </div>


                            </div>

                            </div>
                        <div class="col-lg-6">


                            <div class="card shadow mb-3">
                                <div class="card-header py-3">
                                    <h6 class="m-0 font-weight-bold text-primary">Vis for hastighed</h6>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <div class="form-group row">
                                            <div class="col-lg-3">
                                                <input class="form-control-plaintext " placeholder="Mbit/s" id="txtMbits">
                                            </div>
                                        </div>
                                        <h4 class="small font-weight-bold">0 Mbit/s <span class="float-right">1000+ Mbit/s</span></h4>
                                        <script>
                                            function updateTextInput(val) {
                                                document.getElementById('txtMbits').value = 'Min ' + val + ' Mbit/s';
                                            }

                                            function updateMapByFiberSpeed(downSpeed) {
                                                markers.clearLayers();
                                                var markersToAdd = [];
                                                

                                                for (let i = 0; i < filterArray.length; i++) {

                                                    
                                                    switch (speedFilter) {
                                                        case 0:

                                                            if (filterArray[i].downFiber >= downSpeed) {
                                                                markersToAdd.push(filterArray[i]);
                                                            }
                                                            break;
                                                        case 1:
                                                            if (filterArray[i].downKabel >= downSpeed) {
                                                                markersToAdd.push(filterArray[i]);
                                                            }
                                                            break;
                                                        case 2:
                                                            if (filterArray[i].downDsl >= downSpeed) {
                                                                markersToAdd.push(filterArray[i]);
                                                            }
                                                            break;
                                                        case 3:
                                                            if (filterArray[i].mobil >= downSpeed) {
                                                                markersToAdd.push(filterArray[i]);
                                                            }
                                                            break;
                                                        case 4:
                                                            if (filterArray[i].downFiber >= downSpeed || filterArray[i].downKabel >= downSpeed || filterArray[i].downDsl >= downSpeed || filterArray[i].mobil >= downSpeed) {
                                                                markersToAdd.push(filterArray[i]);
                                                            }

                                                            break;
                                                    }

                                                }


                                                for (let i = 0; i < markersToAdd.length; i++) {
                                                    markers.addLayer(markersToAdd[i]);
                                                }

                                                mymap.addLayer(markers);
                                                document.getElementById('unikCVR').innerHTML
                                                    = (markersToAdd.length);
                                            }

                                        </script>
                                        <input type="range" min="0" max="1000" value="0" class="form-control-range" step="50" id="formControlRange" onmousemove="updateTextInput(this.value);" onchange="updateMapByFiberSpeed(this.value)">
                                    </div>
                                    </div>
                                
                            </div>

                        </div>
                    </div>


                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->
            <!-- Footer -->
            @*<footer class="sticky-footer bg-white">
                    <div class="container my-auto">
                        <div class="copyright text-center my-auto">
                            <span>Copyright &copy; Your Website 2020</span>
                        </div>
                    </div>
                </footer>*@
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->
        </div>
        <!-- End of Page Wrapper -->
        <!-- Scroll to Top Button-->
        <a class="scroll-to-top rounded" href="#page-top">
            <i class="fas fa-angle-up"></i>
        </a>

        <!-- Logout Modal-->
        <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                        <a class="btn btn-primary" href="login.html">Logout</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bootstrap core JavaScript-->
        <script src="~/Content/vendor/jquery/jquery.min.js"></script>
        <script src="~/Content/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

        <!-- Core plugin JavaScript-->
        <script src="~/Content/vendor/jquery-easing/jquery.easing.min.js"></script>

        <!-- Custom scripts for all pages-->
        <script src="~/Content/js/sb-admin-2.min.js"></script>

        <!-- Page level plugins -->
        <script src="~/Content/vendor/chart.js/Chart.min.js"></script>

        <!-- Page level custom scripts -->
        <script src="~/Content/js/demo/chart-area-demo.js"></script>
        <script src="~/Content/js/demo/chart-pie-demo.js"></script>

    </body>

</html>
